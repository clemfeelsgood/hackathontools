/*
HTTP Host: static.ak.fbcdn.net
Generated: June 7th 2010 1:22:38 PM PDT
Machine: 10.16.139.107
Locale: nu_ll
Path: js/7aek0yn2064gkwcg.pkg.js
*/

((location=='about:blank'&&(window.parent.eval_global||window.parent.eval))||(window.eval_global||window.eval))("if (window.CavalryLogger) { CavalryLogger.start_js([\"js\\\/7aek0yn2064gkwcg.pkg.js\"]); }\n\nfunction network_source(a){this.get_selected_type=a;this.parent.construct(this);this.ready();}network_source.extend('typeahead_source');network_source.prototype.cache_results=true;network_source.prototype.search_limit=200;network_source.prototype.text_placeholder=network_source.prototype.text_noinput=_tx(\"Enter a city, workplace, school, or region.\");network_source.prototype.base_uri='';network_source.prototype.allow_fake_results=true;network_source.prototype.search_value=function(c,b){this.search_text=c;var a={q:c};if((type=typeof(this.get_selected_type))!='undefined')a.t=(type!='string')?JSON.encode(this.get_selected_type):this.get_selected_type;if((type=typeof(this.t))!='undefined')a.t=(type!='string')?JSON.encode(this.t):this.t;if(this.show_email)a.show_email=1;if(this.show_network_type)a.show_network_type=1;if(this.disable_school_status)a.disable_school_status=1;new AsyncRequest().setReadOnly(true).setMethod('GET').setURI('\/ajax\/typeahead_networks.php').setData(a).setHandler(function(e){var d=e.getPayload();this.owner.found_suggestions(d,this.search_text);if(b)b(this,a.q,d);}.bind(this)).setErrorHandler(function(d){this.owner.found_suggestions(false,this.search_text);}.bind(this)).send();};network_source.prototype.gen_html=function(b,a){return ['<div>',typeahead_source.highlight_found(b.t,a),'<\/div><div><small>',typeahead_source.highlight_found(b.l,a),'<\/small><\/div>'].join('');};\nfunction NoResultsDisplayer(a){this.hitAnyErrors=false;this.producedAnyResults=false;this.anyFiltersApplied=false;this.sources=a;}NoResultsDisplayer.init=function(a){NoResultsDisplayer._instance=new NoResultsDisplayer(a);};NoResultsDisplayer.instance=function(){return NoResultsDisplayer._instance;};copy_properties(NoResultsDisplayer.prototype,{producedResults:function(){this.producedAnyResults=true;},hitError:function(){this.hitAnyErrors=true;},filtersApplied:function(){this.anyFiltersApplied=true;},visit:function(a){this.sources.remove(a);if(this.sources.length==0&&!this.producedAnyResults&&!this.hitAnyErrors){show('search_no_results_message');if(!this.anyFiltersApplied)hide('search_filter_bar');}}});\nfunction UIIntentionalStreamSearch(e,b,c,d,g,f,a){copy_properties(this,{searchSessionId:f,extraSearchParams:a});this.parent.construct(this,e,b,c,d,g);}UIIntentionalStreamSearch.prototype.getValidParams=function(){return UIIntentionalStreamSearch.VALID_PARAMS;};UIIntentionalStreamSearch.prototype.getEndpoint=function(){return UIIntentionalStreamSearch.ENDPOINT;};UIIntentionalStreamSearch.prototype.refresh=function(c,a,b){a.sessionId=this.searchSessionId;this.parent.refresh(c,a,b);};UIIntentionalStreamSearch.prototype.getCurrentParams=function(){params=this.parent.getCurrentParams();copy_properties(params,this.extraSearchParams);return params;};UIIntentionalStreamSearch.extend('UIIntentionalStream');copy_properties(UIIntentionalStreamSearch,{VALID_PARAMS:null,ENDPOINT:'\/ajax\/stream\/search.php'});\nfunction UIResultRenderer(a){this.filter=a;this.queryBox=$('SearchPageInput');}UIResultRenderer.prototype={refresh:function(a,e){var d=this._handleResponse.bind(this,a,e);var c=this._handleFinally.bind(this);var b=this._handleError.bind(this);new AsyncRequest().setURI(UIResultRenderer.ENDPOINT).setReadOnly(true).setMethod('GET').setData(a).setHandler(d).setErrorHandler(b).setFinallyHandler(c).send();return this;},_handleResponse:function(b,e,g){for(var d in UIIntentionalStream.instances)try{var instance=UIIntentionalStream.instances[d];if(instance)instance.unload();}catch(c){}this.queryBox.value=b.q?b.q:'';CSS.removeClass(this.queryBox,'DOMControl_placeholder');var f=g.getPayload();if(!f['is_default_view'])f.is_default_view=false;CSS.conditionClass(UIResultRenderer.middle_column,'UIResultRenderer_DefaultPadding',f.is_default_view);NoResultsDisplayer.init([\"object\",\"stream\",\"web\"]);var h=UIResultRenderer.search_pagelets;for(var a in h)DOM.setContent(h[a].getElement(true),HTML(f[a]));if(f.filter_list_filter&&e)this.filter.setInlineContent(e,HTML(f.filter_list_filter));DOMScroll.scrollTo(new Vector2(0,0,'document'),false);},_handleFinally:function(){if(this.filter)this.filter.setLoading(false);PageTransitions.transitionComplete();},_handleError:bagofholding};UIResultRenderer.ENDPOINT='\/ajax\/search\/results.php';\nfunction UINav(a,c,b){this.controller=a;this.data=b;copy_properties(this,{controller:a,data:b,items:[],selectedItem:null,selectedClass:this.selectedClass||''});this.initializeItems(c);UINav.instances[a.id]=this;}UINav.instances={};UINav.prototype.getItemContainers=abstractMethod;UINav.prototype.getItemLinks=abstractMethod;UINav.prototype.getItems=function(){return this.items;};UINav.prototype.initializeItems=function(d){var a=this.getItemContainers();for(var b=0;b<a.length;b++){var e=DOM.scry(a[b],'a')[0];if(!e)break;var c={};if(this.is_wrapped){c=(d[b]||{});}else c={container:a[b],link:e,data:(d[b]||{})};this.items.push(c);if(CSS.hasClass(c.container,this.selectedClass))this.selectedItem=c;c.addClickHandler=this.addClickHandler.bind(this,c);c.addClickHandler(this.selectItem.bind(this,c));}};UINav.prototype.selectItem=function(a){if(a==this.selectedItem)return true;if(this.selectedItem)CSS.removeClass(this.selectedItem.container,this.selectedClass);if(a)CSS.addClass(a.container,this.selectedClass);this.selectedItem=a;return true;};UINav.prototype.deselectAll=function(){if(this.selectedItem)CSS.removeClass(this.selectedItem.container,this.selectedClass);this.selectedItem=null;};UINav.prototype.getSelectedItem=function(){return this.selectedItem;};UINav.prototype.addClickHandler=function(b,a){if(typeof b=='function'){a=b;this.getItems().each(function(c,d){this.addClickHandler(d,c);}.bind(this,a));return true;}else return Event.listen(b.link,'click',a);};function UINavGeneric(a,c,b){if(!this.selectedClass)this.selectedClass='UINavGeneric_ItemSelected';this.parent.construct(this,a,c,b);}UINavGeneric.extend('UINav');UINavGeneric.prototype.getItemContainers=function(){if(!this.containers)this.containers=DOM.scry(this.controller,'li');return this.containers;};UINavGeneric.prototype.getItemLinks=function(){if(!this.containerLinks)this.containerLinks=DOM.scry(this.controller,'li a');return this.containerLinks;};function UITabStructure(a,c,b){if(!this.selectedClass)this.selectedClass='UITabStructure_TabSelected';this.parent.construct(this,a,c,b);}UITabStructure.extend('UINavGeneric');UITabStructure.prototype.getItemContainers=function(){if(!this.tab_containers){this.tab_containers=[];var b=DOM.scry(this.controller,'li');for(var a=0;a<b.length;a++)this.tab_containers.push(b[a].childNodes[0]);}return this.tab_containers;};function UISourceList(a,c,b){if(!this.selectedClass)this.selectedClass='UISourceList_ItemSelected';this.parent.construct(this,a,c,b);}UISourceList.extend('UINavGeneric');\nfunction UIFilterList(a,c,b){this.selectedClass='selected';this._itemsContainer=DOM.scry(a,'div.UIFilterList_List')[0];this.parent.construct(this,a,c,b);}UIFilterList.extend('UINav');UIFilterList.prototype.getItemContainers=function(){if(!this.containers)this.containers=DOM.scry(this.controller,'div.UIFilterList_Item');return this.containers;};UIFilterList.prototype.getItemLinks=function(){if(!this.containerLinks)this.containerLinks=DOM.scry(this.controller,'div.UIFilterList_Item a');return this.containerLinks;};UIFilterList.prototype.resetItemContainers=function(){this.containers=null;};UIFilterList.prototype.resetItemLinks=function(){this.containerLinks=null;};UIFilterList.prototype.setEditIconHandler=function(a){this._editIconHandler=a;return this;};UIFilterList.prototype.setLoading=function(a){CSS.conditionClass(this.controller,'UIFilterList_Loading',a);};UIFilterList.prototype.setCreateLinkHandler=function(b){var a=DOM.find(this.controller,'a.UIFilterList_Create');a.listen('click',b);};UIFilterList.prototype.addItem=function(l,b,k,c,a){if(!k)k=0;var g=this.getItems();a=a?a:{};var j=$N('div',{className:'UIFilterList_Item'});var h=$N('a',{className:'UIFilterList_ItemLink',href:b});if(c){var d=$N('span',{className:'UIImageBlock_Image UIFilterList_Icon'});CSS.setStyle(d,'backgroundImage','url('+c+')');var e=$N('div',{className:'UIImageBlock clearfix'});DOM.appendContent(e,d);DOM.appendContent(e,$N('div',{className:'UIImageBlock_Content UIFilterList_Title'},l));DOM.appendContent(h,e);}else DOM.appendContent(h,$N('div',{className:'UIImageBlock_Content UIFilterList_Title '+'UIFilterList_TitleWithoutIcon'},l));var i=$N('span',{className:'UIFilterList_LoadingIndicator'});DOM.setContent(j,[h,i]);var f={container:j,link:h,data:a};if(g.length>0){if(this.getItems()[k]){DOM.insertBefore(j,g[k].container);}else{k=k-1;DOM.insertAfter(g[k].container,j);}}else{DOM.appendContent(this._itemsContainer,j);CSS.removeClass(this.controller,'UIFilterList_HasBlankState');}this.getItems().splice(k,0,f);this.getItemContainers().splice(k,0,f.container);this.getItemLinks().splice(k,0,f.link);return f;};UIFilterList.prototype.setItemTitle=function(a,b){var c=DOM.find(a.link,'div.UIFilterList_Title');DOM.setContent(c,b);};UIFilterList.prototype.removeItem=function(b){var d=this.getItems();var c=null;for(var a=0;a<d.length;a++)if(d[a]==b){c=a;break;}if(c!=null){if(this.selectedItem==b)this.selectItem(null);this.getItemContainers().splice(c,1);this.getItemLinks().splice(c,1);this.getItems().splice(c,1);DOM.remove(b.container);}if(d.length==0)CSS.addClass(this.controller,'UIFilterList_HasBlankState');};\nfunction UISearchFilter(d,b,a,c){this.parent.construct(this,d,b,a);this.query=c;this.typeData={};this.resultRenderer=new UIResultRenderer(this);PageTransitions.registerHandler(this.handlePageTransition.bind(this));}UISearchFilter.extend('UIFilterList');UISearchFilter.prototype={handlePageTransition:function(o){var f=UISearchFilter.SEARCH_REF_UNIVERSAL;var g=UISearchFilter.SEARCH_ROOT;var e=UISearchFilter.SEARCH_FILTER_SRC;var c=UISearchFilter.SEARCH_FILTER_OBJ_TYPE;var a=UISearchFilter.SEARCH_FILTER_FRIENDS;var b=UISearchFilter.SEARCH_FILTER_GLOBAL;var d=UISearchFilter.SEARCH_FILTER_QUERY;var h=o.getQueryData();if(o.getPath()!=g||h.ref==f)return false;this.typeData[c]=h[c];this.typeData[a]=h[a];this.typeData[b]=h[b];var l=this.getItems();if(h.init){var k=this.getSelectedItem();var n=new URI(k.link.href).getQueryData();h[c]=n[c];h[a]=n[a];h[b]=n[b];}else for(var i=0;i<l.length;i++){var j=l[i];var n=new URI(j.link.href).getQueryData();if(n[c]==this.typeData[c]&&n[a]==this.typeData[a]&&n[b]==this.typeData[b]){if(j!==this.getSelectedItem())this.selectItem(j);break;}}var m={};m[d]=h[d];this.items.each(function(p){var q=new URI(p.link.href).addQueryData(m);p.link.href=q.toString();});this.setLoading(true);this.resultRenderer.refresh(h,j);return true;}};copy_properties(UISearchFilter,{SEARCH_REF_UNIVERSAL:'search',SEARCH_ROOT:'\/search\/',SEARCH_FILTER_SRC:'flt',SEARCH_FILTER_QUERY:'q',SEARCH_FILTER_OBJ_TYPE:'o',SEARCH_FILTER_FRIENDS:'fr',SEARCH_FILTER_GLOBAL:'gl'});\n\nif (window.Bootloader) { Bootloader.done([\"js\\\/7aek0yn2064gkwcg.pkg.js\"]); }")